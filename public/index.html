<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i789 Sport Portal - Live Betting</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a472a;
            --secondary-color: #2d5a3d;
            --accent-color: #4a7c59;
            --text-color: #333;
            --light-bg: #f5f5f5;
            --border-color: #ddd;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: var(--light-bg);
            margin: 0;
            padding: 0;
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            margin-bottom: 20px;
        }
        
        .nav-tabs {
            border-bottom: 2px solid var(--primary-color);
        }
        
        .nav-tabs .nav-link {
            color: var(--text-color);
            font-weight: bold;
        }
        
        .nav-tabs .nav-link.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .tab-content {
            background-color: white;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-top: none;
            min-height: 600px;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        th {
            background-color: #f2f2f2;
        }
        
        .odds-table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .odds-table tr:hover {
            background-color: #f9f9f9;
        }
        
        .odds-cell {
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            padding: 8px 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .odds-cell:hover {
            background-color: #e9f7e9;
        }
        
        .odds-cell.selected {
            background-color: var(--accent-color);
            color: white;
        }
        
        .match-time {
            font-size: 0.85em;
            color: #666;
        }
        
        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #e74c3c;
            border-radius: 50%;
            margin-right: 5px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .controls-container {
            background-color: white;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 15px;
        }
        
        .controls-row {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .controls-row:last-child {
            margin-bottom: 0;
        }
        
        .control-item {
            display: flex;
            align-items: center;
        }
        
        .control-label {
            margin-right: 5px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .control-select, .control-input {
            padding: 5px 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .control-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        
        .control-button:hover {
            background-color: var(--secondary-color);
        }
        
        .tab-button {
            padding: 8px 15px;
            background-color: #f0f0f0;
            border: 1px solid var(--border-color);
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .tab-button.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .tab-button:hover:not(.active) {
            background-color: #e0e0e0;
        }
        
        .search-container {
            display: flex;
            align-items: center;
        }
        
        .search-input {
            padding: 5px 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px 0 0 4px;
            font-size: 0.9em;
        }
        
        .search-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-size: 0.9em;
        }
        
        .bet-slip {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 350px;
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }
        
        .bet-slip-header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .bet-slip-content {
            padding: 10px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .bet-slip-footer {
            padding: 10px;
            border-top: 1px solid var(--border-color);
        }
        
        .bet-item {
            padding: 8px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .bet-item:last-child {
            border-bottom: none;
        }
        
        .bet-type-indicator {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .single-bet {
            background-color: #4a7c59;
            color: white;
        }
        
        .parlay-bet {
            background-color: #e67e22;
            color: white;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            color: #666;
            font-size: 0.9em;
        }
        
        .league-header {
            background-color: #e9f7e9;
            padding: 8px 15px;
            font-weight: bold;
            border-left: 4px solid var(--primary-color);
            margin-top: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .league-header:first-child {
            margin-top: 0;
        }
        
        .league-header .toggle-icon {
            font-weight: bold;
        }
        
        .league-matches {
            display: block;
        }
        
        .league-matches.collapsed {
            display: none;
        }
        
        /* Account Statement Styles */
        .statement-filters {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .statement-table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .statement-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .bet-won {
            color: #28a745;
            font-weight: bold;
        }
        
        .bet-lost {
            color: #dc3545;
            font-weight: bold;
        }
        
        .bet-pending {
            color: #ffc107;
            font-weight: bold;
        }
        
        /* League Selection Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            border-radius: 4px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .modal-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 15px;
            overflow-y: auto;
            flex-grow: 1;
        }
        
        .modal-footer {
            padding: 15px;
            border-top: 1px solid var(--border-color);
            text-align: right;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
        }
        
        .league-category {
            margin-bottom: 20px;
        }
        
        .league-category h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }
        
        .league-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .league-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .league-item:hover {
            background-color: #f0f0f0;
        }
        
        .league-item.selected {
            background-color: var(--primary-color);
            color: white;
        }
        
        .league-checkbox {
            margin-right: 10px;
        }
        
        .no-matches {
            text-align: center;
            padding: 20px;
            color: #666;
            font-style: italic;
        }
        
        .stake-input {
            width: 80px;
            padding: 5px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        
        .bet-summary {
            margin-top: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        
        .bet-summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .total-odds {
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .potential-win {
            font-weight: bold;
            color: #28a745;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>i789 Sport Portal - Live Betting</h1>
        </div>
    </div>

    <div class="container">
        <ul class="nav nav-tabs" id="mainTabs">
            <li class="nav-item">
                <a class="nav-link active" href="#" data-target="accInfo">Account Information</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-target="accHistory">Account Statement</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-target="odds">Live Odds</a>
            </li>
        </ul>

        <div class="tab-content">
            <!-- Account Information Section -->
            <div id="accInfo" class="content-section active">
                <h2>Account Information</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card mb-3">
                            <div class="card-header">
                                <h5>Personal Details</h5>
                            </div>
                            <div class="card-body">
                                <p><strong>Username:</strong> isusd74B9B95308A</p>
                                <p><strong>Account Type:</strong> Member</p>
                                <p><strong>Currency:</strong> USD</p>
                                <p><strong>Status:</strong> Active</p>
                                <p><strong>Registration Date:</strong> 2023-05-15</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card mb-3">
                            <div class="card-header">
                                <h5>Balance Information</h5>
                            </div>
                            <div class="card-body">
                                <p><strong>Current Balance:</strong> $1,250.75</p>
                                <p><strong>Available Balance:</strong> $1,200.50</p>
                                <p><strong>Credit Limit:</strong> $5,000.00</p>
                                <p><strong>Outstanding Bets:</strong> $50.25</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h5>Recent Activity</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Description</th>
                                        <th>Amount</th>
                                        <th>Balance</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2023-10-15</td>
                                        <td>Sports Bet - Soccer</td>
                                        <td>-$25.00</td>
                                        <td>$1,250.75</td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-14</td>
                                        <td>Deposit</td>
                                        <td>+$100.00</td>
                                        <td>$1,275.75</td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-12</td>
                                        <td>Sports Bet - Basketball</td>
                                        <td>+$45.50</td>
                                        <td>$1,175.75</td>
                                    </tr>
                                    <tr>
                                        <td>2023-10-10</td>
                                        <td>Sports Bet - Tennis</td>
                                        <td>-$30.00</td>
                                        <td>$1,130.25</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Statement Section -->
            <div id="accHistory" class="content-section">
                <h2>Account Statement</h2>
                
                <div class="statement-filters">
                    <div class="row">
                        <div class="col-md-3">
                            <label for="statementDateFrom" class="form-label">From Date</label>
                            <input type="date" class="form-control" id="statementDateFrom" value="2023-10-01">
                        </div>
                        <div class="col-md-3">
                            <label for="statementDateTo" class="form-label">To Date</label>
                            <input type="date" class="form-control" id="statementDateTo" value="2023-10-15">
                        </div>
                        <div class="col-md-3">
                            <label for="statementType" class="form-label">Transaction Type</label>
                            <select class="form-control" id="statementType">
                                <option value="all">All Transactions</option>
                                <option value="deposit">Deposits</option>
                                <option value="withdrawal">Withdrawals</option>
                                <option value="bet">Bets</option>
                                <option value="win">Winnings</option>
                            </select>
                        </div>
                        <div class="col-md-3 d-flex align-items-end">
                            <button class="btn btn-primary w-100" id="searchStatement">Search</button>
                        </div>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="statement-table">
                        <thead>
                            <tr>
                                <th>Date/Time</th>
                                <th>Transaction ID</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Balance</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2023-10-15 14:30</td>
                                <td>TXN78291</td>
                                <td>Sports Bet - Soccer: Man City vs Arsenal</td>
                                <td class="text-danger">-$25.00</td>
                                <td>$1,250.75</td>
                                <td><span class="bet-pending">Pending</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-14 09:15</td>
                                <td>TXN78245</td>
                                <td>Deposit - Credit Card</td>
                                <td class="text-success">+$100.00</td>
                                <td>$1,275.75</td>
                                <td><span class="bet-won">Completed</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-12 20:45</td>
                                <td>TXN78189</td>
                                <td>Win - Soccer: Liverpool vs Chelsea</td>
                                <td class="text-success">+$45.50</td>
                                <td>$1,175.75</td>
                                <td><span class="bet-won">Won</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-10 16:20</td>
                                <td>TXN78123</td>
                                <td>Sports Bet - Soccer: Real Madrid vs Barcelona</td>
                                <td class="text-danger">-$30.00</td>
                                <td>$1,130.25</td>
                                <td><span class="bet-lost">Lost</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Live Odds Section -->
            <div id="odds" class="content-section">
                <h2>Live Betting Odds</h2>
                
                <!-- Navigation Controls -->
                <div class="controls-container">
                    <!-- First Row: Live/Today/Early/Select League/Search -->
                    <div class="controls-row">
                        <button class="tab-button active" data-odds-type="live">Live</button>
                        <button class="tab-button" data-odds-type="today">Today</button>
                        <button class="tab-button" data-odds-type="early">Early</button>
                        <button class="tab-button" id="selectLeagueBtn">Select League</button>
                        <div class="search-container">
                            <input type="text" class="search-input" placeholder="Search Team">
                            <button class="search-button">Search</button>
                        </div>
                    </div>
                    
                    <!-- Second Row: Filters -->
                    <div class="controls-row">
                        <div class="control-item">
                            <span class="control-label">Time:</span>
                            <select class="control-select" id="timeFilter">
                                <option value="upcoming">Upcoming</option>
                                <option value="top">Top</option>
                                <option value="before11">Before 11:00PM</option>
                                <option value="after11">After 11:00PM</option>
                                <option value="all">All</option>
                            </select>
                        </div>
                        
                        <div class="control-item">
                            <span class="control-label">Market:</span>
                            <select class="control-select" id="marketFilter">
                                <option value="all">All Market</option>
                                <option value="main">Main Market</option>
                            </select>
                        </div>
                        
                        <div class="control-item">
                            <span class="control-label">View:</span>
                            <select class="control-select" id="viewFilter">
                                <option value="single-new">Single (New)</option>
                                <option value="single-old">Single (Old)</option>
                                <option value="double" selected>Double</option>
                            </select>
                        </div>
                        
                        <div class="control-item">
                            <span class="control-label">Sort:</span>
                            <select class="control-select" id="sortFilter">
                                <option value="normal">Normal Sorting</option>
                                <option value="time">Sort by time</option>
                            </select>
                        </div>
                        
                        <div class="control-item">
                            <span class="control-label">Odds:</span>
                            <select class="control-select" id="oddsType">
                                <option value="euro">EURO</option>
                                <option value="malay" selected>Malay</option>
                                <option value="hk">HK</option>
                                <option value="indo">Indo</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Live Odds Content -->
                <div id="liveOddsContent">
                    <!-- Selected Leagues will be displayed here -->
                    <div class="no-matches" id="noMatchesMessage">
                        No matches available. Please select leagues to view matches.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- League Selection Modal -->
    <div class="modal-overlay" id="leagueModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Select Football Leagues</h3>
                <button class="close-modal" id="closeLeagueModal">×</button>
            </div>
            <div class="modal-body">
                <div class="league-category">
                    <h4>FOOTBALL LEAGUES</h4>
                    <div class="league-list" id="footballLeagues">
                        <!-- Football leagues will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="control-button" id="applyLeagues">Apply Selection</button>
                <button class="control-button" style="background-color: #6c757d;" id="cancelLeagues">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Bet Slip -->
    <div class="bet-slip" id="betSlip">
        <div class="bet-slip-header">
            <span>Bet Slip <span id="betTypeIndicator" class="bet-type-indicator single-bet">Single</span></span>
            <button id="closeBetSlip" style="background: none; border: none; color: white; cursor: pointer;">×</button>
        </div>
        <div class="bet-slip-content" id="betSlipContent">
            <!-- Bet items will be added here dynamically -->
            <p id="emptyBetSlip">No bets added yet</p>
        </div>
        <div class="bet-slip-footer">
            <div class="bet-summary" id="betSummary" style="display: none;">
                <div class="bet-summary-row">
                    <span>Total Odds:</span>
                    <span id="totalOdds" class="total-odds">1.00</span>
                </div>
                <div class="bet-summary-row">
                    <span>Stake:</span>
                    <span>$<span id="totalStake">0.00</span></span>
                </div>
                <div class="bet-summary-row">
                    <span>Potential Win:</span>
                    <span id="potentialWin" class="potential-win">$0.00</span>
                </div>
            </div>
            <div style="text-align: right; margin-top: 10px;">
                <button class="control-button" id="placeBet">Place Bet</button>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="container">
            <p>© 2023 i789 Sport Portal. All rights reserved.</p>
            <p>This is a demonstration page only.</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Data for different odds formats
        const oddsData = {
            euro: {
                "Manchester City vs Arsenal": { "1": "2.10", "X": "3.25", "2": "3.50", "1X": "1.40", "12": "1.25" },
                "Liverpool vs Chelsea": { "1": "2.30", "X": "3.10", "2": "3.20", "1X": "1.45", "12": "1.30" },
                "Real Madrid vs Barcelona": { "1": "2.05", "X": "3.40", "2": "3.60", "1X": "1.35", "12": "1.20" },
                "Bayern Munich vs Borussia Dortmund": { "1": "1.85", "X": "3.60", "2": "4.20", "1X": "1.25", "12": "1.15" },
                "PSG vs Marseille": { "1": "1.75", "X": "3.50", "2": "4.50", "1X": "1.20", "12": "1.10" }
            },
            malay: {
                "Manchester City vs Arsenal": { "1": "0.48", "X": "0.31", "2": "0.29", "1X": "0.71", "12": "0.80" },
                "Liverpool vs Chelsea": { "1": "0.43", "X": "0.32", "2": "0.31", "1X": "0.69", "12": "0.77" },
                "Real Madrid vs Barcelona": { "1": "0.49", "X": "0.29", "2": "0.28", "1X": "0.74", "12": "0.83" },
                "Bayern Munich vs Borussia Dortmund": { "1": "0.54", "X": "0.28", "2": "0.24", "1X": "0.80", "12": "0.87" },
                "PSG vs Marseille": { "1": "0.57", "X": "0.29", "2": "0.22", "1X": "0.83", "12": "0.91" }
            },
            hk: {
                "Manchester City vs Arsenal": { "1": "1.10", "X": "2.25", "2": "2.50", "1X": "0.40", "12": "0.25" },
                "Liverpool vs Chelsea": { "1": "1.30", "X": "2.10", "2": "2.20", "1X": "0.45", "12": "0.30" },
                "Real Madrid vs Barcelona": { "1": "1.05", "X": "2.40", "2": "2.60", "1X": "0.35", "12": "0.20" },
                "Bayern Munich vs Borussia Dortmund": { "1": "0.85", "X": "2.60", "2": "3.20", "1X": "0.25", "12": "0.15" },
                "PSG vs Marseille": { "1": "0.75", "X": "2.50", "2": "3.50", "1X": "0.20", "12": "0.10" }
            },
            indo: {
                "Manchester City vs Arsenal": { "1": "1.10", "X": "2.25", "2": "2.50", "1X": "0.40", "12": "0.25" },
                "Liverpool vs Chelsea": { "1": "1.30", "X": "2.10", "2": "2.20", "1X": "0.45", "12": "0.30" },
                "Real Madrid vs Barcelona": { "1": "1.05", "X": "2.40", "2": "2.60", "1X": "0.35", "12": "0.20" },
                "Bayern Munich vs Borussia Dortmund": { "1": "0.85", "X": "2.60", "2": "3.20", "1X": "0.25", "12": "0.15" },
                "PSG vs Marseille": { "1": "0.75", "X": "2.50", "2": "3.50", "1X": "0.20", "12": "0.10" }
            }
        };

        // Football leagues data
        const footballLeaguesData = [
            { id: "premier-league", name: "Premier League", selected: true },
            { id: "laliga", name: "Spain LaLiga", selected: true },
            { id: "serie-a", name: "Italy Serie A", selected: true },
            { id: "bundesliga", name: "Germany Bundesliga", selected: true },
            { id: "ligue-1", name: "France Ligue 1", selected: true }
        ];

        // Match data by league
        const matchesByLeague = {
            "premier-league": [
                { id: "m1", name: "Manchester City vs Arsenal", time: "Live - 35'", sport: "football" },
                { id: "m2", name: "Liverpool vs Chelsea", time: "Live - 22'", sport: "football" }
            ],
            "laliga": [
                { id: "m3", name: "Real Madrid vs Barcelona", time: "Live - 15'", sport: "football" }
            ],
            "serie-a": [
                { id: "m4", name: "Juventus vs AC Milan", time: "Live - 28'", sport: "football" }
            ],
            "bundesliga": [
                { id: "m5", name: "Bayern Munich vs Borussia Dortmund", time: "Live - 42'", sport: "football" }
            ],
            "ligue-1": [
                { id: "m6", name: "PSG vs Marseille", time: "Live - 19'", sport: "football" }
            ]
        };

        // Current selected leagues
        let selectedLeagues = ["premier-league", "laliga", "serie-a", "bundesliga", "ligue-1"];

        // Current odds format
        let currentOddsFormat = "malay";

        // Bet slip data
        let betSelections = [];
        let totalStake = 0;

        document.addEventListener('DOMContentLoaded', function() {
            const tabLinks = document.querySelectorAll('.nav-link');
            const oddsTypeButtons = document.querySelectorAll('.tab-button[data-odds-type]');
            const selectLeagueBtn = document.getElementById('selectLeagueBtn');
            const leagueModal = document.getElementById('leagueModal');
            const closeLeagueModal = document.getElementById('closeLeagueModal');
            const cancelLeagues = document.getElementById('cancelLeagues');
            const applyLeagues = document.getElementById('applyLeagues');
            const oddsTypeSelect = document.getElementById('oddsType');
            const searchStatementBtn = document.getElementById('searchStatement');
            
            // Initialize leagues in modal
            initializeLeaguesModal();
            
            // Main tab navigation
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all tabs and content sections
                    tabLinks.forEach(tab => tab.classList.remove('active'));
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Add active class to clicked tab and corresponding content section
                    this.classList.add('active');
                    const targetId = this.getAttribute('data-target');
                    document.getElementById(targetId).classList.add('active');
                });
            });
            
            // Odds type buttons (Live/Today/Early)
            oddsTypeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    oddsTypeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // In a real implementation, this would load different odds data
                    const oddsType = this.getAttribute('data-odds-type');
                    console.log(`Loading ${oddsType} odds...`);
                });
            });
            
            // Select League button
            selectLeagueBtn.addEventListener('click', function() {
                leagueModal.style.display = 'flex';
            });
            
            // Close league modal
            closeLeagueModal.addEventListener('click', function() {
                leagueModal.style.display = 'none';
            });
            
            cancelLeagues.addEventListener('click', function() {
                leagueModal.style.display = 'none';
            });
            
            // Apply league selection
            applyLeagues.addEventListener('click', function() {
                updateSelectedLeagues();
                renderMatches();
                leagueModal.style.display = 'none';
            });
            
            // Odds format change
            oddsTypeSelect.addEventListener('change', function() {
                currentOddsFormat = this.value;
                renderMatches();
            });
            
            // Search statement
            searchStatementBtn.addEventListener('click', function() {
                alert('Searching statement with selected filters...');
                // In a real implementation, this would filter the statement data
            });
            
            // Initialize matches display
            renderMatches();
            
            // Initialize betting functionality
            initializeBetting();
        });

        function initializeLeaguesModal() {
            // Populate football leagues
            const footballLeaguesContainer = document.getElementById('footballLeagues');
            footballLeaguesContainer.innerHTML = '';
            
            footballLeaguesData.forEach(league => {
                const leagueItem = document.createElement('div');
                leagueItem.className = `league-item ${league.selected ? 'selected' : ''}`;
                leagueItem.innerHTML = `
                    <input type="checkbox" class="league-checkbox" id="${league.id}" ${league.selected ? 'checked' : ''}>
                    <label for="${league.id}">${league.name}</label>
                `;
                footballLeaguesContainer.appendChild(leagueItem);
                
                // Add click event to toggle selection
                leagueItem.addEventListener('click', function(e) {
                    if (e.target.type !== 'checkbox') {
                        const checkbox = this.querySelector('.league-checkbox');
                        checkbox.checked = !checkbox.checked;
                        this.classList.toggle('selected', checkbox.checked);
                    }
                });
            });
        }

        function updateSelectedLeagues() {
            // Reset selected leagues
            selectedLeagues = [];
            
            // Get all checked checkboxes
            const checkedBoxes = document.querySelectorAll('.league-checkbox:checked');
            
            checkedBoxes.forEach(checkbox => {
                selectedLeagues.push(checkbox.id);
            });
        }

        function renderMatches() {
            const liveOddsContent = document.getElementById('liveOddsContent');
            const noMatchesMessage = document.getElementById('noMatchesMessage');
            
            // Check if there are any selected leagues
            if (selectedLeagues.length === 0) {
                liveOddsContent.innerHTML = '<div class="no-matches" id="noMatchesMessage">No matches available. Please select leagues to view matches.</div>';
                return;
            }
            
            // Hide no matches message
            noMatchesMessage.style.display = 'none';
            
            let contentHTML = '';
            
            // Render football matches for each selected league
            selectedLeagues.forEach(leagueId => {
                const league = footballLeaguesData.find(l => l.id === leagueId);
                if (league && matchesByLeague[leagueId]) {
                    contentHTML += `<div class="league-header">`;
                    contentHTML += `<span><span class="live-indicator"></span> ${league.name.toUpperCase()} - LIVE MATCHES</span>`;
                    contentHTML += `<span class="toggle-icon">−</span>`;
                    contentHTML += `</div>`;
                    contentHTML += `<div class="league-matches">`;
                    contentHTML += `<div class="table-container">`;
                    contentHTML += `<table class="odds-table">`;
                    contentHTML += `<thead><tr><th width="40%">Match</th><th width="15%">Time</th><th width="9%">1</th><th width="9%">X</th><th width="9%">2</th><th width="9%">1X</th><th width="9%">12</th></tr></thead>`;
                    contentHTML += `<tbody>`;
                    
                    matchesByLeague[leagueId].forEach(match => {
                        const odds = oddsData[currentOddsFormat][match.name] || {};
                        contentHTML += `
                            <tr>
                                <td>
                                    <strong>${match.name}</strong>
                                    <div class="match-time">${match.time}</div>
                                </td>
                                <td>
                                    <span class="live-indicator"></span> LIVE
                                </td>
                                <td class="odds-cell" data-selection="${match.name} - 1" data-odds="${odds["1"] || "-"}">${odds["1"] || "-"}</td>
                                <td class="odds-cell" data-selection="${match.name} - X" data-odds="${odds["X"] || "-"}">${odds["X"] || "-"}</td>
                                <td class="odds-cell" data-selection="${match.name} - 2" data-odds="${odds["2"] || "-"}">${odds["2"] || "-"}</td>
                                <td class="odds-cell" data-selection="${match.name} - 1X" data-odds="${odds["1X"] || "-"}">${odds["1X"] || "-"}</td>
                                <td class="odds-cell" data-selection="${match.name} - 12" data-odds="${odds["12"] || "-"}">${odds["12"] || "-"}</td>
                            </tr>
                        `;
                    });
                    
                    contentHTML += `</tbody></table></div></div>`;
                }
            });
            
            liveOddsContent.innerHTML = contentHTML;
            
            // Add toggle functionality to league headers
            const leagueHeaders = document.querySelectorAll('.league-header');
            leagueHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const matchesContainer = this.nextElementSibling;
                    const toggleIcon = this.querySelector('.toggle-icon');
                    
                    if (matchesContainer.classList.contains('collapsed')) {
                        matchesContainer.classList.remove('collapsed');
                        toggleIcon.textContent = '−';
                    } else {
                        matchesContainer.classList.add('collapsed');
                        toggleIcon.textContent = '+';
                    }
                });
            });
            
            // Reinitialize betting functionality for the new odds cells
            initializeBetting();
        }

        function initializeBetting() {
            // Odds selection
            const oddsCells = document.querySelectorAll('.odds-cell');
            const betSlip = document.getElementById('betSlip');
            const betSlipContent = document.getElementById('betSlipContent');
            const emptyBetSlip = document.getElementById('emptyBetSlip');
            const closeBetSlip = document.getElementById('closeBetSlip');
            const placeBet = document.getElementById('placeBet');
            const betTypeIndicator = document.getElementById('betTypeIndicator');
            const betSummary = document.getElementById('betSummary');
            
            oddsCells.forEach(cell => {
                cell.addEventListener('click', function() {
                    const selection = this.getAttribute('data-selection');
                    const odds = this.getAttribute('data-odds');
                    const matchRow = this.closest('tr');
                    const matchName = matchRow.querySelector('strong').textContent;
                    
                    // Toggle selection
                    if (this.classList.contains('selected')) {
                        this.classList.remove('selected');
                        removeFromBetSlip(selection);
                    } else {
                        this.classList.add('selected');
                        addToBetSlip(matchName, selection, odds);
                    }
                    
                    // Update bet type and summary
                    updateBetType();
                    updateBetSummary();
                });
            });
            
            function addToBetSlip(match, selection, odds) {
                // Show bet slip if hidden
                betSlip.style.display = 'block';
                
                // Remove empty message
                if (emptyBetSlip) {
                    emptyBetSlip.style.display = 'none';
                }
                
                // Check if selection already exists
                const existingIndex = betSelections.findIndex(item => 
                    item.match === match && item.selection === selection);
                
                if (existingIndex === -1) {
                    // Add new selection
                    betSelections.push({ 
                        match, 
                        selection, 
                        odds: parseFloat(odds),
                        stake: 0
                    });
                    
                    // Create bet item
                    const betItem = document.createElement('div');
                    betItem.className = 'bet-item';
                    betItem.innerHTML = `
                        <div><strong>${match}</strong></div>
                        <div>${selection} @ ${odds}</div>
                        <div>
                            <input type="number" class="stake-input" placeholder="Stake" min="1" value="0">
                            <button class="remove-bet" style="background: none; border: none; color: red; cursor: pointer; margin-left: 10px;">×</button>
                        </div>
                    `;
                    
                    // Add remove functionality
                    const removeButton = betItem.querySelector('.remove-bet');
                    removeButton.addEventListener('click', function() {
                        betItem.remove();
                        removeFromBetSlip(selection);
                        
                        // Remove selection highlight
                        const selectedCell = document.querySelector(`.odds-cell[data-selection="${selection}"]`);
                        if (selectedCell) {
                            selectedCell.classList.remove('selected');
                        }
                        
                        // Update bet type and summary
                        updateBetType();
                        updateBetSummary();
                        
                        // Show empty message if no bets
                        if (betSlipContent.children.length === 1) { // Only the empty message remains
                            emptyBetSlip.style.display = 'block';
                            betSummary.style.display = 'none';
                        }
                    });
                    
                    // Add stake change listener
                    const stakeInput = betItem.querySelector('.stake-input');
                    stakeInput.addEventListener('input', function() {
                        const stakeValue = parseFloat(this.value) || 0;
                        updateStake(selection, stakeValue);
                        updateBetSummary();
                    });
                    
                    betSlipContent.appendChild(betItem);
                }
            }
            
            function removeFromBetSlip(selection) {
                betSelections = betSelections.filter(item => item.selection !== selection);
            }
            
            function updateStake(selection, stake) {
                const betIndex = betSelections.findIndex(item => item.selection === selection);
                if (betIndex !== -1) {
                    betSelections[betIndex].stake = stake;
                }
            }
            
            function updateBetType() {
                if (betSelections.length === 0) {
                    betTypeIndicator.textContent = "Single";
                    betTypeIndicator.className = "bet-type-indicator single-bet";
                } else if (betSelections.length === 1) {
                    betTypeIndicator.textContent = "Single Bet";
                    betTypeIndicator.className = "bet-type-indicator single-bet";
                } else {
                    betTypeIndicator.textContent = "Parlay Bet";
                    betTypeIndicator.className = "bet-type-indicator parlay-bet";
                }
            }
            
            function updateBetSummary() {
                if (betSelections.length === 0) {
                    betSummary.style.display = 'none';
                    return;
                }
                
                betSummary.style.display = 'block';
                
                // Calculate total odds
                let totalOdds = 1;
                betSelections.forEach(bet => {
                    totalOdds *= bet.odds;
                });
                
                // Calculate total stake
                totalStake = betSelections.reduce((sum, bet) => sum + bet.stake, 0);
                
                // Calculate potential win
                const potentialWin = totalStake * totalOdds;
                
                // Update display
                document.getElementById('totalOdds').textContent = totalOdds.toFixed(2);
                document.getElementById('totalStake').textContent = totalStake.toFixed(2);
                document.getElementById('potentialWin').textContent = '$' + potentialWin.toFixed(2);
            }
            
            // Close bet slip
            closeBetSlip.addEventListener('click', function() {
                betSlip.style.display = 'none';
            });
            
            // Place bet
            placeBet.addEventListener('click', function() {
                if (betSelections.length === 0) {
                    alert('Please add at least one selection to your bet slip.');
                    return;
                }
                
                // Check if all stakes are valid
                const invalidStakes = betSelections.filter(bet => bet.stake <= 0);
                if (invalidStakes.length > 0) {
                    alert('Please enter valid stakes for all selections.');
                    return;
                }
                
                // Determine bet type
                const betType = betSelections.length === 1 ? 'Single Bet' : 'Parlay Bet';
                
                // In a real implementation, this would submit the bet to a server
                alert(`${betType} placed successfully!\nTotal Stake: $${totalStake.toFixed(2)}\nPotential Win: $${(totalStake * betSelections.reduce((prod, bet) => prod * bet.odds, 1)).toFixed(2)}`);
                
                // Clear bet slip
                betSlipContent.innerHTML = '<p id="emptyBetSlip">No bets added yet</p>';
                betSelections = [];
                totalStake = 0;
                
                // Remove selection highlights
                oddsCells.forEach(cell => {
                    cell.classList.remove('selected');
                });
                
                // Update empty bet slip reference
                emptyBetSlip = document.getElementById('emptyBetSlip');
                betSummary.style.display = 'none';
                updateBetType();
            });
            
            // Simulate live odds updates
            setInterval(() => {
                // In a real implementation, this would fetch updated odds from a server
                const liveOddsCells = document.querySelectorAll('.odds-cell');
                liveOddsCells.forEach(cell => {
                    // Randomly update some odds to simulate live changes
                    if (Math.random() > 0.7) {
                        const currentOddsText = cell.textContent;
                        if (currentOddsText !== "-") {
                            const currentOdds = parseFloat(currentOddsText);
                            const change = (Math.random() * 0.2) - 0.1; // -0.1 to +0.1
                            const newOdds = Math.round((currentOdds + change) * 100) / 100;
                            
                            // Only update if odds changed and it's not currently selected
                            if (newOdds !== currentOdds && !cell.classList.contains('selected')) {
                                cell.textContent = newOdds.toFixed(2);
                                cell.setAttribute('data-odds', newOdds.toFixed(2));
                                
                                // Add visual feedback for changed odds
                                cell.style.backgroundColor = '#fff3cd';
                                setTimeout(() => {
                                    cell.style.backgroundColor = '';
                                }, 1000);
                            }
                        }
                    }
                });
            }, 5000); // Update every 5 seconds
        }
    </script>
</body>
  </html>
